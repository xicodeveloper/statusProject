<!DOCTYPE html>
<html lang="en">
<head>
   
    <title>Create Art </title>
    <style>
                .S1 {
            position: relative;
            width: 100%;
            height: 100svh;
            background: #76B7E3;
        }

        .divst {
            position: absolute;
            top: 214px;
            left: 107px;
            right: 263px;
            bottom: 398px;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }

        .divst h1 {
            color: #FDFAFF;
            font-size: 92px;
            font-family: Alegreya;
            font-weight: 500;
            line-height: 85px;
            margin: 0;
        }

        .divart {
            position: absolute;
            top: 493px;
            left: 106.92px;
            right: 118.8px;
            height: 172px;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }

        .divart h1 {
            color: #FDFAFF;
            font-size: 45px;
            font-family: Alegreya;
            font-weight: 500;
            line-height: 54px;
            margin: 0;
            text-align: left;
        }

        .S2 {
            background: #FFF;
            position: relative;
            top: 719px;
            width: 100%;
        }
    /* Define your CSS styles here */
   body {
      font-family: Arial, sans-serif;
      background-color: #f2f2f2;
      margin: 0;
      padding: 0;
      margin-top: -600px;
    }
    
    .container {
      max-width: 800px;
      margin: 0 auto;
      position: relative;

      padding: 20px;
      background-color: #fff;
      box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);

   
    }
    
    .container .h1 {
      color: #333;
      font-size: 32px;
      margin-bottom: 10px;
      text-align: center;
    }
    
    .container .h2 {
      color: #666;
      font-size: 24px;
      margin-bottom: 10px;
    }
    
    .container p {
      color: #444;
      font-size: 18px;
      line-height: 1.5;
    }

    
    .btn {

      background-color: #007bff;
      color: #fff;
      border: none;
      padding: 10px 20px;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      margin: 20px auto;
    }

  </style>
   <%- include("../views/partials/head.ejs") %>
    <!-- Other meta tags and title -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/css/bootstrap.min.css" />


</head>
<body>
  <div class="center" style="display: flex;justify-content: center; align-items: center;"><button class="btn btn-secondary" onclick="window.location='/ins'">Go Back</button></div>
    
    <section class="S2">
        <form method="post" action="/event/update/<%= event._id %>" class="container" style="margin-top: -699px;" enctype="multipart/form-data">
            <h1 class="h1">Events Update</h1>
            
            <div class="form-group">
                <label for="personInput">Insert the author</label>
                <input required type="text" class="form-control" id="personInput" name="person" 
                          placeholder="<%= event.author %>" value="<%= event.author %>">
                <small class="form-text text-muted">Write the name</small>
            </div>
            <div class="form-group">
              <label for="contentInput">Insert the content</label>
              <textarea required type="text" class="form-control"  name="content" cols="20" rows="5"
                placeholder="<%= event.content %>"><%= event.content %></textarea>
              <small class="form-text text-muted">Write the content</small>
          </div>
          <div class="form-group">
            <label for="placeInput">Insert the title</label>
            <input required type="text" class="form-control" id="placeInput" name="title" 
                      placeholder="<%= event.title %>" value="<%= event.title %>">
            <small class="form-text text-muted">Write the title</small>
        </div>
           
            <div class="form-group">
                <label for="imageInput">Image</label>
                <input  type="file" value="<%= event.image %>" class="form-control" id="imageInput" name="file" accept="image/*" onchange="displaySelectedImage(event)">
                <small class="form-text text-muted">Upload an image file</small>
            </div>
            
            <div class="form-group">
                <label for="dateInput">Date</label>
                <input required type="date" class="form-control" id="dateInput" name="date" value="<%=event.date%>" placeholder="<%=event.date%>" />
                <small class="form-text text-muted">Enter the date</small>
                
            </div>
        
            <!-- Display selected filename or placeholder image -->
            <% if (event.image) { %>
                <div class="" style="display: flex;justify-content: center; align-items: center;">
                    <img id="selectedImage"  src="/<%= event.image %>" alt="Image Placeholder" style="max-width: 300px;">
                </div>
                
            <% } else { %>
                <div class="" style="display: flex;justify-content: center; align-items: center;">
                <div id="placeholderImage" style="width: 300px; height: 200px; background-color: #ccc;">Sem Imagem</div>
         </div>
                <% } %>
            
  
            <button type="submit" class="btn btn-primary " style="display: flex; justify-content: center;">
                <p class="lettersig" >Insert</p>
            </button>
        </form>
    </section>
<!-- Your HTML code -->
<script>
    function displaySelectedImage(event) {
        const fileInput = event.target;
        const selectedImage = document.getElementById("selectedImage");
        const placeholderImage = document.getElementById("placeholderImage");

        if (fileInput && fileInput.files.length > 0) {
            const file = fileInput.files[0];
            const reader = new FileReader();

            reader.onload = function(e) {
                selectedImage.src = e.target.result;
            };

            reader.readAsDataURL(file);
            placeholderImage.style.display = "none";
            selectedImage.style.display = "block";
        } else {
            selectedImage.style.display = "none";
            placeholderImage.style.display = "block";
        }
    }
</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/js/bootstrap.min.js"></script>
</body>
</html>