<!DOCTYPE html>
<html lang="en">
<head>
    <title>Delete Reports</title>
    <%-include("../views/partials/head.ejs") %>
</head>
<body>
  <div class="center" style="display: flex;justify-content: center; align-items: center;"><button class="btn btn-secondary" onclick="window.location='/ins'">Go Back</button></div>

    <div class="contRepo" style="width: 100%; min-height: 100svh;">
        <h1>Testemunho existentes</h1>
        <div class="flexRepo" style="display: flex; flex-direction: column; gap:10px;flex: 1; width: 100%;justify-content: center;align-items: center;">
            <% testm.forEach((testm) => { %>
                <form action="/testm/delete/<%= testm._id %>" method="post">
                    <div style="display: flex; flex-direction: column; justify-content: center; align-items: center;">
                        <p style="color: #000; text-align: center; font-family: Montserrat; font-size: 30px; font-style: normal; font-weight: 400; line-height: 100px;"> <%= testm.name %></p>
                        <button style="max-width: 100px;" type="submit" name="apagaReport" value="<%= testm._id %>" class="btn btn-primary" onclick="confirmDelete(event)">Apagar</button>
                    </div>
                </form>
            <% }) %>
        </div>
    </div>

</body>
<script>
    function confirmDelete(event) {
        event.preventDefault();
        if (window.confirm("Deseja apagar?")) {
            event.target.closest("form").submit();
        } else {
            // Do nothing or handle the cancel action (stay on the page)
        }
    }

</script>
</html>
